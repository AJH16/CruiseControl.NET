<html>
<head>
  <title>FxCop and CruiseControl.NET</title>
  <link type="text/css" rel="stylesheet" href="../cruisecontrol.css"/>
</head>
<body>
	<h1>Getting FxCop to work with CruiseControl.NET</h1>
	<img align="right" src="../images/ccnet_logo_onwhite.gif" />

Follow the steps below to getfxcop results working and displayed in the ccnet web app:

<ol>
<li>include a call to FxCopCmd as an <exec> task in your nant build file like so:
	<pre>
	&lt;target name="fxcop" depends="compile"&gt;
		&lt;exec program="D:\Program Files\Microsoft FxCop 1.23\FxCopCmd.exe"
			  commandline="/p:Mutant1.fxcop /o:build\Mutant1.FxCop.xml" failonerror="false" /&gt;
	&lt;/target&gt;
	</pre>
	<ul>
		<li>note that it is important to include the '/o' flag to specify that you want fxcop to produce an xml report.</li>
		<li>also note that it is important to include the 'failonerror' attribute</li>
	</ul>
	<p/>
</li>

<li>merge the fxcop log file into the ccnet build log by setting up the <xmlLogger> element like this:
	<pre>
	  &lt;xmllogger&gt;
	    &lt;logDir&gt;..\web\log&lt;/logDir&gt;
	    &lt;mergeFiles&gt;
		&lt;file&gt;..\..\Mutant1\build\Mutant1.exe-results.xml&lt;/file&gt;
		&lt;file&gt;..\..\Mutant1\build\Mutant1.FxCop.xml&lt;/file&gt;
	    &lt;/mergeFiles&gt;
	  &lt;/xmllogger&gt;
	</pre>
</li>
<li>browse to the ccnet web app, click the FxCop link and the view the results of your fxcop report.</li>
</ol>
</body>
</html>