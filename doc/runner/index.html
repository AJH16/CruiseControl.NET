<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<title>CruiseControl.NET Installation</title>
		<link type="text/css" rel="stylesheet" href="../cruisecontrol.css">
	</head>
	<body>
		<img align="right" src="../images/ccnet_logo_onwhite.gif">
		<h1>CruiseControl.NET Installation</h1>
		<h2>Preconditions</h2>
		These instructions assume that you have already:
		<UL>
			<li>
			Setup your runner environment
			<LI>
			Setup your Web Environment, if you are going to use any of the CCNet Web 
			Applications
			<li>
			Placed your project under one of the supported version control systems
			<li>
				Setup a build script under one of the supported build systems</li></UL>
		<P>The supported environments are described <a href="supportedEnvironments.html">here</a>
		</P>
		<h3>Create a bootstrap build file<br>
		</h3>
		First you need to create a 'bootstrap' build file that is used to get the 
		latest changes to your source tree whenever an update is comitted. A good place 
		to put this build file is in the same directory as your project's normal 
		buildfile. This bootstrap file should do 2 things:<br>
		<ol>
			<li>
			Get the latest code from source control
			<li>
				Call the appropriate target in the actual project build file<br>
			</li>
		</ol>
		The following is an example for a project under CVS control (it assumes that a 
		propery called 'cvs.executable' is passed in from CruiseControl.NET - you can 
		do this in the build/buildArgs section of the ccnet.config file):<br>
		<br>
		<pre>&lt;project name="ccnetlaunch" default="go"&gt;</pre>
		<pre>&nbsp; &lt;target name="go" depends="update,build"/&gt;</pre>
		<pre>&nbsp; &lt;target name="update"&gt;</pre>
		<pre>&nbsp;&nbsp;&nbsp; &lt;ifnot propertyexists="cvs.executable"&gt;</pre>
		<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;fail message="cvs.executable property not set, so can't update" /&gt;</pre>
		<pre>&nbsp;&nbsp;&nbsp; &lt;/ifnot&gt;</pre>
		<pre>&nbsp;&nbsp;&nbsp; &lt;echo message="CVS Executable at [${cvs.executable}]" /&gt;</pre>
		<pre>&nbsp;&nbsp;&nbsp; &lt;exec </pre>
		<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; basedir="." </pre>
		<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; program="${cvs.executable}" </pre>
		<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; commandline="-q update -P -d" </pre>
		<pre>&nbsp;&nbsp;&nbsp; /&gt;</pre>
		<pre>&nbsp; &lt;/target&gt;</pre>
		<pre>&nbsp; &lt;target name="build"&gt;</pre>
		<pre>&nbsp;&nbsp;&nbsp; &lt;nant </pre>
		<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; buildfile="myproject.build" </pre>
		<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; target="ContinuousIntegration" </pre>
		<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; inheritall="true"</pre>
		<pre>&nbsp;&nbsp;&nbsp; /&gt;</pre>
		<pre>&nbsp; &lt;/target&gt;</pre>
		<pre>&lt;/project&gt;<br><br></pre>
		<h3>Perform Initial Checkout</h3>
		The bootstrap buildfile above only
		<span style="FONT-STYLE: italic">updates</span>
		the buildserver's local copy of your project's source. Before you even run 
		CruiseControl.NET for the first time you need to checkout your project to the 
		location on your machine where CruiseControl.NET will build it.<br>
		<br>
		<h3>Installing and launching the Runner</h3>
		Now to actually setup the runner itself.
		<br>
		<ol>
			<li>
			Unzip the distribution as described in <a href="../basicinstallation.html">Basic Installation</a>
			</li>
			<li>
				In the 'builder' sub-folder, create a ccnet.config file as described <a href="ccnet.config.html">
					here</a>. (There is an example in the 'builder' folder to help you out.) Make 
				sure you leave the 'xmllogger' 'logDir' variable as '..\website\log'.<br>
			</li>
			<li>
			Try starting the Runner by executing the 'StartCCNet.bat' file from a command 
			line. If you have setup your config file correctly your build should run.
			</li>
		</ol>
	</body>
</html>
