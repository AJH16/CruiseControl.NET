<html>
	<head>
		<title>Obtaining CruiseControl.NET</title>
		<link type="text/css" rel="stylesheet" href="../cruisecontrol.css">
	</head>
	<body>
		<img align="right" src="../images/ccnet_logo_onwhite.gif">
		<h1>PVCS Examples</h1>
		<p>Here are&nbsp;some example files for working with PVCS.
			<H2>ccnet.config</H2>
			<PRE>&nbsp;<!--StartFragment --> &lt;cruisecontrol&gt; <BR>&nbsp; &lt;project name="Project1"&gt; <BR>&nbsp; &nbsp; &lt;schedule type="schedule" timeout="10000"/&gt; <BR>&nbsp; &nbsp; &lt;modificationDelay&gt;10000&lt;/modificationDelay&gt; <BR>&nbsp; &nbsp; <BR>&nbsp; &nbsp; &lt;sourcecontrol type="pvcs"&gt; <BR>&nbsp; &nbsp; &nbsp; &lt;executable&gt;C:\Program Files\PVCS\vm\win32\bin\pcli.exe&lt;/executable&gt; <BR>&nbsp; &nbsp; &nbsp; <BR>&nbsp; &nbsp; &nbsp; &lt;!-- you can read project path from PVCS GUI --&gt; <BR>&nbsp; &nbsp; &nbsp; &lt;!-- its the absolute dir in brackets after the project data base name --&gt; <BR>&nbsp; &nbsp; &nbsp; &lt;!-- i.e. &lt;project&gt;-pr'C:\somedir\pvcsrepos'&lt;/project&gt; --&gt; &nbsp; &nbsp; &nbsp; <BR>&nbsp; &nbsp; &nbsp; &lt;project&gt;-pr'type path to PVCS repository'&lt;/project&gt; <BR>&nbsp; &nbsp; &nbsp; <BR>&nbsp; &nbsp; &nbsp; &lt;!-- type the relative path (proceeded with a slash) to the subproject --&gt; <BR>&nbsp; &nbsp; &nbsp; &lt;!-- i.e. &lt;subproject&gt;/project1/Payroll&lt;/subproject&gt; --&gt; &nbsp; <BR>&nbsp; &nbsp; &nbsp; &lt;subproject&gt;/someProject&lt;/subproject&gt; <BR>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <BR>&nbsp; &nbsp; &lt;/sourcecontrol&gt; <BR>&nbsp; &nbsp; <BR>&nbsp; &nbsp; &lt;build type="nant"&gt; <BR>&nbsp; &nbsp; &nbsp; &lt;executable&gt;C:\apps\nant-0.8.3.50100\bin\nant.exe&lt;/executable&gt; <BR>&nbsp; &nbsp; &nbsp; <BR>&nbsp; &nbsp; &nbsp; &lt;!-- this is the path to the builder directory where we installed cc.net --&gt; <BR>&nbsp; &nbsp; &nbsp; &lt;!-- copy the cruise.build file into this directory --&gt; <BR>&nbsp; &nbsp; &nbsp; &lt;baseDirectory&gt;C:\someDir\builder&lt;/baseDirectory&gt; <BR>&nbsp; &nbsp; &nbsp; &lt;buildArgs&gt;-logger:NAnt.Core.XmlLogger -D:pvcs.executable="C:\Program Files\PVCS\vm\win32\bin\pcli.exe"&lt;/buildArgs&gt; <BR>&nbsp; &nbsp; &nbsp; &lt;buildFile&gt;cruise.build&lt;/buildFile&gt; <BR>&nbsp; &nbsp; &nbsp; &lt;targetList&gt; <BR>&nbsp; &nbsp; &nbsp; &nbsp; &lt;target&gt;run&lt;/target&gt; <BR>&nbsp; &nbsp; &nbsp; &lt;/targetList&gt; <BR>&nbsp; &nbsp; &nbsp; &lt;buildTimeout&gt;100000&lt;/buildTimeout&gt; <BR>&nbsp; &nbsp; &lt;/build&gt; <BR>&nbsp; &nbsp; &lt;publishers&gt; <BR>&nbsp; &nbsp; &nbsp; &lt;email from="buildmaster@mycompany.com" mailhost="host.net" includeDetails="TRUE"&gt; <BR>&nbsp; &nbsp; &nbsp; &nbsp;&lt;projectUrl&gt;http://localhost/ccnet&lt;/projectUrl&gt; <BR>&nbsp; &nbsp; &nbsp; &nbsp;&lt;users&gt; <BR>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;user name="BuildGuru" group="buildmaster" address="buildguru@mycompany.com"/&gt; <BR>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;user name="JoeDeveloper" group="developers" address="foo@bar.com"/&gt; <BR>&nbsp; &nbsp; &nbsp; &nbsp; &lt;/users&gt; <BR>&nbsp; &nbsp; &nbsp; &nbsp; &lt;groups&gt; <BR>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;group name="developers" notification="change"/&gt; <BR>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;group name="buildmaster" notification="always"/&gt; <BR>&nbsp; &nbsp; &nbsp; &nbsp; &lt;/groups&gt; <BR>&nbsp; &nbsp; &nbsp; &lt;/email&gt; <BR>&nbsp; &nbsp; &nbsp; &lt;xmllogger&gt; <BR>&nbsp; &nbsp; &nbsp; &nbsp; &lt;logDir&gt;..\website\log&lt;/logDir&gt; <BR>&nbsp; &nbsp; &nbsp; &lt;/xmllogger&gt; <BR>&nbsp; &nbsp; &lt;/publishers&gt; <BR>&nbsp; &lt;/project&gt; <BR>&lt;/cruisecontrol&gt; <BR></PRE>
			<H2>cruise.build</H2>
			<PRE>&nbsp;<!--StartFragment --> &lt;project name="ccnetlaunch" default="run"&gt; <BR><BR>&nbsp; &lt;target name="run" depends="update,build"/&gt; <BR><BR>&nbsp; &lt;!-- base.dir is the dir where cc will do its check outs and builds --&gt; <BR>&nbsp; &lt;!-- i.e. &lt;property name="base.dir" value="C:\someDir\cc-code"/&gt; --&gt; <BR>&nbsp; &lt;property name="base.dir" value="cc.net checkouts and build dir"/&gt; <BR>&nbsp; <BR>&nbsp; &lt;target name="update"&gt; <BR>&nbsp; &nbsp; &lt;delete&gt; <BR>&nbsp; &nbsp; &nbsp; &nbsp; &lt;fileset&gt; <BR>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;includes name="${base.dir}\**\*" /&gt; <BR>&nbsp; &nbsp; &nbsp; &nbsp; &lt;/fileset&gt; <BR>&nbsp; &nbsp; &lt;/delete&gt; &nbsp; <BR>&nbsp; &nbsp; &lt;!-- &lt;exec basedir="${base.dir}" program="${pvcs.executable}" commandline=' get -pr"our pvcs directory root" -a${base.dir} -o -z /' /&gt; --&gt; <BR>&nbsp; &nbsp; &lt;!-- pvcs.executable was set for us in the ccnet.config file --&gt; &nbsp; &nbsp; <BR>&nbsp; &nbsp; &lt;exec basedir="${base.dir}" program="${pvcs.executable}" commandline=' get -pr"C:\somedir\pvcsrepos" -a${base.dir} -o -z /' /&gt; <BR>&nbsp; &lt;/target&gt; <BR><BR>&nbsp; &lt;target name="build"&gt; <BR>&nbsp; &nbsp; &lt;!-- point to our project build file in our cc.net build directory --&gt; <BR>&nbsp; &nbsp; &lt;!-- &lt;nant buildfile="${base.dir}\project1\Payroll\PayrollApp\payroll.build" /&gt; --&gt; <BR>&nbsp; &nbsp; &lt;nant buildfile="${base.dir}\subproject name\project build file" /&gt; <BR>&nbsp; &lt;/target&gt; <BR><BR>&lt;/project&gt; </PRE>
	</body>
</html>
