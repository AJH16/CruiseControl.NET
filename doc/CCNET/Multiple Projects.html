<html>
    <head>
        <title>CruiseControl.NET : Multiple Projects</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            CruiseControl.NET : Multiple Projects
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jun 24, 2005 by <font color="#0050B2">orogers</font>.
				    </div>

				    <p>The CruiseControl.NET server can be configured to manage the integration requirements for several projects concurrently.  To do this, simply include the configuration for the different projects consecutively in the ccnet.config file.</p>

<div class="code"><div class="codeContent">
<pre class="code-xml"><span class="code-tag">&lt;cruisecontrol&gt;</span>
     <span class="code-tag">&lt;project name=<span class="code-quote">"project1"</span>&gt;</span>
          ...
     <span class="code-tag">&lt;/project&gt;</span>
     <span class="code-tag">&lt;project name=<span class="code-quote">"project2"</span>&gt;</span>
          ...
     <span class="code-tag">&lt;/project&gt;</span>
<span class="code-tag">&lt;/cruisecontrol&gt;</span></pre>
</div></div>

<p>If you use the default values for Project <a href="Project Configuration Block.html#ProjectConfigurationBlock-workingDirectory" title="workingDirectory on Project Configuration Block">working directories</a>, <a href="Project Configuration Block.html#ProjectConfigurationBlock-artifactDirectory" title="artifactDirectory on Project Configuration Block">artifact directories</a>, <a href="State Manager Blocks.html" title="State Manager Blocks">State Managers</a> and <a href="Xml Log Publisher.html" title="Xml Log Publisher">Xml Log Publishers</a>, this should work for you straightaway, but if not, note the following conditions:</p>
<ul>
	<li>Each project needs its own state file (see <a href="State Manager Blocks.html" title="State Manager Blocks">State Manager Blocks</a>)</li>
	<li>Each project must save build logs to a separate directory (see <a href="Xml Log Publisher.html" title="Xml Log Publisher">Xml Log Publisher</a>)</li>
	<li>Each project must have a separated build working directory (since builds are performed in parallel)</li>
	<li>Each project must have a trigger that specifies what will cause a build to occur (see <a href="Trigger Blocks.html" title="Trigger Blocks">Trigger Blocks</a>)</li>
</ul>


<p>To configure reporting, read the Project Report Web Application section on Multiple Projects.</p>

<h3><a name="MultipleProjects-Splittingtheccnet.configfile">Splitting the ccnet.config file</a></h3>

<p>It is possible to split your ccnet.config file into multiple smaller xml files.  This can help you reduce some of the duplication in the configuration file by factoring out common elements to an external file.  Currently, the main way to do this is to use DTD entities.  The following example demonstrates how the configuration for two CCNet project <b>project1</b> and <b>project2</b> can be read in from separate files.  The same approach should work at any level in the <b>ccnet.config</b> file.</p>

<div class="code"><div class="codeContent">
<pre class="code-xml">&lt;!DOCTYPE cruisecontrol [ 
	<span class="code-tag">&lt;!ENTITY project1 SYSTEM <span class="code-quote">"file:project1.xml"</span>&gt;</span>
	<span class="code-tag">&lt;!ENTITY project2 SYSTEM <span class="code-quote">"file:project2.xml"</span>&gt;</span>
]&gt; 
<span class="code-tag">&lt;cruisecontrol&gt;</span>
  &amp;project1;
  &amp;project2;
<span class="code-tag">&lt;/cruisecontrol&gt;</span></pre>
</div></div>

				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="border/border_bottom.gif"><img src="border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Aug 15, 2005 13:58</font></td>
		    </tr>
	    </table>
    </body>
</html>