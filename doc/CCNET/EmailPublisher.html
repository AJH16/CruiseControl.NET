<html>
    <head>
        <title>CruiseControl.NET : EmailPublisher</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            CruiseControl.NET : EmailPublisher
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Apr 15, 2004 by <font color="#0050B2">orogers</font>.
				    </div>

				    <p class="paragraph"><h3 class="heading3"> Email Publisher Configuration Examples</h3></p>The email publisher can be used to send email to any number of users. It is common to include one user who gets an email for every build and then also send email to every developer who checked code in for this build. 

<div class="code"><pre>&lt;email from=&quot;buildmaster&#64;mycompany.com&quot; mailhost=&quot;smtp.mycompany.com&quot; includeDetails=&quot;TRUE&quot;&gt;&#10;    &lt;projectUrl&gt;http&#58;//buildserver/myproject&lt;/projectUrl&gt;&#10;    &lt;users&gt;&#10;        &lt;user name=&quot;BuildGuru&quot; group=&quot;buildmaster&quot; address=&quot;buildguru&#64;mycompany.com&quot;/&gt;&#10;        &lt;user name=&quot;JoeDeveloper&quot; group=&quot;developers&quot; address=&quot;joedeveloper&#64;thoughtworks.com&quot;/&gt;&#10;    &lt;/users&gt;&#10;    &lt;groups&gt;&#10;        &lt;group name=&quot;developers&quot; notification=&quot;change&quot;/&gt;&#10;        &lt;group name=&quot;buildmaster&quot; notification=&quot;always&quot;/&gt;&#10;    &lt;/groups&gt;&#10;&lt;/email&gt;</pre></div>
<ul class="star">
<li> from (mandatory) - the email address that email will be marked as coming from</li>
<li> mailhost (mandatory) - the SMTP server that CruiseControl.NET will connect to to send email</li>
<li> includeDetails (optional) - set to &quot;true&quot; if you want to include details of the build in the body in HTML form. Leave out, or set to &quot;false&quot;, if you just want a plain-text notification email sent.</li>
<li> projectURL (mandatory) - The URL where the CruiseControl.NET web application can be found</li>
<li> users (mandatory) - A set of &lt;user&gt; elements that define who to send email to, defined as follows:<ul class="star">
<li> name (mandatory) - The user name of a user. For &#039;real&#039; users, this should match the user name in Source Control.</li>
<li> group (mandatory) - The group that the user is in (see more about this in just a second</li>
<li> address (mandatory) - The (internet form) email address of the user</li>
</ul></li>
<li> groups (mandatory) - A set of groups that we put users in to, defined as follows:<ul class="star">
<li> name (mandatory) - The name of the group, which corresponds to the &#039;group&#039; values used in the &lt;user&gt; tags</li>
<li> notification - When we send email to this group, one of:<ul type="square" class="minus">
<li> &quot;always&quot; - send email when any build occurs</li>
<li> &quot;change&quot; - send email when the status of the build changes (e.g. from &#039;passed&#039; to &#039;failed&#039;)</li>
</ul></li>
</ul></li>
</ul><br/>
<a href="#EmailPublisher-top">back to top</a>


				    
                                            <div class="tabletitle">
                            <a name="comments">Comments:</a>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-469"></a>
                                    <font class="smallfont"><p class="paragraph">Are there attributes for specifying login for the SMTP server?</p>chrs,<br/>
Mads Nissen<br/>
mads.nissen@objectware.no</font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%">
                                        <img src="icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by  at Apr 23, 2004 02:44
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-470"></a>
                                    <font class="smallfont"><p class="paragraph">No - we&#039;re using the standard email classes in .NET. In .NET 1.0 there is no way of assigning authenticated SMTP options, but in .NET 1.1 there is. At the moment we&#039;re trying to stay totally compatible between the 2 .NET versions so won&#039;t add this option right now.<br/>
A work around is to setup the Windows SMTP Server on the same machine as your build server (and use appropriate security options.) It can relay to your actual mail server, and your build server can then use the SMTP server on localhost.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%">
                                        <img src="icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by mroberts at Apr 23, 2004 03:40
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-621"></a>
                                    <font class="smallfont"><p class="paragraph">I&#039;m a newbie with cruisecontrol.net. How do I know where the projectURL (cruise control.net web app) is located? I will be using email publisher.</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%">
                                        <img src="icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by  at May 11, 2004 08:14
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-624"></a>
                                    <font class="smallfont"><p class="paragraph">the projectURL property should point to the url at which you installed the CruiseControl.NET web app.  so if you installed the web app on server: foo using the virtual path: bar, you should set the projectURL property to <span class="nobr"><a href="http://foo/bar.">&#104;ttp://foo/bar.<sup><img src="./icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="&gt;&gt;" border="0"/></sup></a></span>  am i correctly understanding your question?</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%">
                                        <img src="icons/comment_16.gif" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by orogers at May 12, 2004 03:50
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="border/border_bottom.gif"><img src="border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on May 31, 2004 05:05</font></td>
		    </tr>
	    </table>
    </body>
</html>